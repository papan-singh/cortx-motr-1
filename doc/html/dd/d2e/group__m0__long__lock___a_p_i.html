<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motr: FOM long lock API</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Motr
   &#160;<span id="projectnumber">M0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/d2e/group__m0__long__lock___a_p_i.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">FOM long lock API</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/structm0__long__lock__addb2.html">m0_long_lock_addb2</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/structm0__be__long__lock.html">m0_be_long_lock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae762ad8776496e788bf62e0fa1615b61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gae762ad8776496e788bf62e0fa1615b61">M0_TRACE_SUBSYSTEM</a>&#160;&#160;&#160;M0_TRACE_SUBSYS_FOP</td></tr>
<tr class="separator:gae762ad8776496e788bf62e0fa1615b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d8656671d02b89f01adf5c34c30346e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga7d8656671d02b89f01adf5c34c30346e">M0_BE_LONG_LOCK_PAD</a>&#160;&#160;&#160;(264 + 88)</td></tr>
<tr class="separator:ga7d8656671d02b89f01adf5c34c30346e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7dcfcd902e681ec0766463721434d4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gac7dcfcd902e681ec0766463721434d4f">M0_FOM_LONG_LOCK_RETURN</a>(<a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a30467b1dec89ba4714905eed4c11b38a">rc</a>)&#160;&#160;&#160;((<a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a30467b1dec89ba4714905eed4c11b38a">rc</a>) ? <a class="el" href="../../d1/d59/group__fom.html#gga1c84f9d79bb6a3a2853b37a531cfc839a73e1dcb44e1c3930ee0b973c974b690e">M0_FSO_AGAIN</a> : <a class="el" href="../../d1/d59/group__fom.html#gga1c84f9d79bb6a3a2853b37a531cfc839aed062e873c0c107ad6b03a27f5445905">M0_FSO_WAIT</a>)</td></tr>
<tr class="separator:gac7dcfcd902e681ec0766463721434d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad10510bdcd084171383f193e95dcc739"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gad10510bdcd084171383f193e95dcc739">m0_long_lock_state</a> { <a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ggad10510bdcd084171383f193e95dcc739a27153399c6499b9aab06e6616cc612ed">M0_LONG_LOCK_UNLOCKED</a>, 
<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ggad10510bdcd084171383f193e95dcc739aad00c994d86d35c6b9e9e0418dd44032">M0_LONG_LOCK_RD_LOCKED</a>, 
<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ggad10510bdcd084171383f193e95dcc739ae277bb26fc65c87a84a7abe11b2eb34c">M0_LONG_LOCK_WR_LOCKED</a>
 }</td></tr>
<tr class="separator:gad10510bdcd084171383f193e95dcc739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b7fb9817ab47b045d7956014e66b9d0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2b7fb9817ab47b045d7956014e66b9d0">m0_long_lock_type</a> { <a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gga2b7fb9817ab47b045d7956014e66b9d0ac61ea9c9e85adf79799ea0f8321903eb">M0_LONG_LOCK_READER</a>, 
<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gga2b7fb9817ab47b045d7956014e66b9d0a640a397bbb207c0fd59637a0f8ecfd7b">M0_LONG_LOCK_WRITER</a>
 }</td></tr>
<tr class="separator:ga2b7fb9817ab47b045d7956014e66b9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4bd4e6924b04834fdec967a1511bbf9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga4bd4e6924b04834fdec967a1511bbf9a">M0_TL_DESCR_DEFINE</a> (m0_lll, &quot;list of <a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>-links in longlock&quot;, M0_INTERNAL, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>, lll_lock_linkage, lll_magix, <a class="el" href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a52969c7c65b61580382c697863bb07f7">M0_FOM_LL_LINK_MAGIC</a>, <a class="el" href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a52969c7c65b61580382c697863bb07f7">M0_FOM_LL_LINK_MAGIC</a>)</td></tr>
<tr class="separator:ga4bd4e6924b04834fdec967a1511bbf9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga424beafd2a8e7a7654cf31ba2d7e066a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga424beafd2a8e7a7654cf31ba2d7e066a">M0_TL_DEFINE</a> (m0_lll, M0_INTERNAL, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>)</td></tr>
<tr class="separator:ga424beafd2a8e7a7654cf31ba2d7e066a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga204d519a821a9e8049ffcfc934f89812"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga204d519a821a9e8049ffcfc934f89812">M0_BOB_DEFINE</a> (M0_INTERNAL, &amp;<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga7279e04e3a36e4ccaf5dbd523382225f">long_lock_bob</a>, <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a>)</td></tr>
<tr class="separator:ga204d519a821a9e8049ffcfc934f89812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0343e2476394bc56bd8dd6b44dd44c2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga0343e2476394bc56bd8dd6b44dd44c2d">M0_BOB_DEFINE</a> (M0_INTERNAL, &amp;<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gaf6ddb3234dcda3fc202093c57300bbcb">long_lock_link_bob</a>, <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>)</td></tr>
<tr class="separator:ga0343e2476394bc56bd8dd6b44dd44c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad482154e94847be941b676a5a052c16d"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gad482154e94847be941b676a5a052c16d">m0_fom_ll_global_init</a> (void)</td></tr>
<tr class="separator:gad482154e94847be941b676a5a052c16d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1ae488b8e87316ced7848717c2756a6"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gaf1ae488b8e87316ced7848717c2756a6">m0_long_lock_link_init</a> (struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link, struct <a class="el" href="../../d9/db7/structm0__fom.html">m0_fom</a> *<a class="el" href="../../d7/d59/structfom.html">fom</a>, struct <a class="el" href="../../db/dc5/structm0__long__lock__addb2.html">m0_long_lock_addb2</a> *addb2)</td></tr>
<tr class="separator:gaf1ae488b8e87316ced7848717c2756a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37d9619e937b061054fe5bf73ca1b3ae"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga37d9619e937b061054fe5bf73ca1b3ae">m0_long_lock_link_fini</a> (struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:ga37d9619e937b061054fe5bf73ca1b3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b0c62cafc45c12e1ad22bd6fe329058"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga7b0c62cafc45c12e1ad22bd6fe329058">ll_addb2_reset</a> (struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:ga7b0c62cafc45c12e1ad22bd6fe329058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5babc7c2528048fe6f51881480d4e98c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga5babc7c2528048fe6f51881480d4e98c">ll_addb2_post</a> (struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:ga5babc7c2528048fe6f51881480d4e98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e070f5a59f56d87cf8ffb6829de1712"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga5e070f5a59f56d87cf8ffb6829de1712">ll_addb2_wait_start</a> (struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:ga5e070f5a59f56d87cf8ffb6829de1712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a0c27a422ec0b4426539492a7f4f753"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga3a0c27a422ec0b4426539492a7f4f753">ll_addb2_wait_finish</a> (struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:ga3a0c27a422ec0b4426539492a7f4f753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a8628f5a6383dabbe0fa4e744656e14"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga6a8628f5a6383dabbe0fa4e744656e14">link_invariant</a> (const struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:ga6a8628f5a6383dabbe0fa4e744656e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59aea7eb5c84a924abe48b2341bf7f2a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga59aea7eb5c84a924abe48b2341bf7f2a">lock_invariant</a> (const struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>)</td></tr>
<tr class="separator:ga59aea7eb5c84a924abe48b2341bf7f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabaa7f1cc1e2ce975f7eee7b106f232b4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gabaa7f1cc1e2ce975f7eee7b106f232b4">can_lock</a> (const struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, const struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:gabaa7f1cc1e2ce975f7eee7b106f232b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7d4d276edd7b6f5ab21b245285db774"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gae7d4d276edd7b6f5ab21b245285db774">grant</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:gae7d4d276edd7b6f5ab21b245285db774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab149301f172d3311436bdb6951300f7d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *lock, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link, int next_phase)</td></tr>
<tr class="separator:gab149301f172d3311436bdb6951300f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb962350d0560706a0944a515360c54f"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gafb962350d0560706a0944a515360c54f">m0_long_write_lock</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *lk, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link, int next_phase)</td></tr>
<tr class="separator:gafb962350d0560706a0944a515360c54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32c86cc142a302f4b5a976bb66dbeb40"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga32c86cc142a302f4b5a976bb66dbeb40">m0_long_read_lock</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *lk, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link, int next_phase)</td></tr>
<tr class="separator:ga32c86cc142a302f4b5a976bb66dbeb40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32b196b8cef71f47f3fe5e814dfc68eb"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga32b196b8cef71f47f3fe5e814dfc68eb">m0_long_lock</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, bool write, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link, int next_phase)</td></tr>
<tr class="separator:ga32b196b8cef71f47f3fe5e814dfc68eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e4c56b3d447243817347d2c2eac61f0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0">unlock</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link, bool check_ownership)</td></tr>
<tr class="separator:ga2e4c56b3d447243817347d2c2eac61f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf275d1f45f62ea03cf941299c2ba29b6"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gaf275d1f45f62ea03cf941299c2ba29b6">m0_long_write_unlock</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:gaf275d1f45f62ea03cf941299c2ba29b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga780120feeb7c6d856ccf41cdbbe3cafc"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga780120feeb7c6d856ccf41cdbbe3cafc">m0_long_read_unlock</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:ga780120feeb7c6d856ccf41cdbbe3cafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab197122217621533ec79a87f80e181c0"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab197122217621533ec79a87f80e181c0">m0_long_unlock</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *link)</td></tr>
<tr class="separator:gab197122217621533ec79a87f80e181c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga501d17a5eb7ce5d0fdfbe3b348ae6f64"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga501d17a5eb7ce5d0fdfbe3b348ae6f64">m0_long_is_read_locked</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, const struct <a class="el" href="../../d9/db7/structm0__fom.html">m0_fom</a> *<a class="el" href="../../d7/d59/structfom.html">fom</a>)</td></tr>
<tr class="separator:ga501d17a5eb7ce5d0fdfbe3b348ae6f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga544b706238f43a1d0d87c32ff76bf116"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga544b706238f43a1d0d87c32ff76bf116">m0_long_is_write_locked</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>, const struct <a class="el" href="../../d9/db7/structm0__fom.html">m0_fom</a> *<a class="el" href="../../d7/d59/structfom.html">fom</a>)</td></tr>
<tr class="separator:ga544b706238f43a1d0d87c32ff76bf116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1eef955bd95c3cc2e3a72cedc7702f8"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab1eef955bd95c3cc2e3a72cedc7702f8">m0_long_lock_init</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>)</td></tr>
<tr class="separator:gab1eef955bd95c3cc2e3a72cedc7702f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab97f2172a9ef8e23ed79762dce8235db"><td class="memItemLeft" align="right" valign="top">M0_INTERNAL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab97f2172a9ef8e23ed79762dce8235db">m0_long_lock_fini</a> (struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *<a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>)</td></tr>
<tr class="separator:gab97f2172a9ef8e23ed79762dce8235db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac247fbad0d9edac48b9185d5a6891639"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d40/structm0__be__long__lock.html">m0_be_long_lock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gac247fbad0d9edac48b9185d5a6891639">M0_XCA_DOMAIN</a> (<a class="el" href="../../d0/df1/iter__ut_8c.html#aa1e88453a5be7e5aa3334108a15171e8">be</a>)</td></tr>
<tr class="separator:gac247fbad0d9edac48b9185d5a6891639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9afc0f8fbed49f5b4d06b46558a28c27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga9afc0f8fbed49f5b4d06b46558a28c27">M0_BASSERT</a> (sizeof(struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a>)&lt;=sizeof(<a class="el" href="../../df/d2a/lib_2misc_8h.html#a18b54656b80aa6c9d8a9b4f62f201265">M0_FIELD_VALUE</a>(struct <a class="el" href="../../d7/d40/structm0__be__long__lock.html">m0_be_long_lock</a>, <a class="el" href="../../d0/d9e/group__addb2.html#ga0930929d6389ac84a33c5f64cbd93346">bll_u.pad</a>)))</td></tr>
<tr class="separator:ga9afc0f8fbed49f5b4d06b46558a28c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac352610735962c9b5bf56677d89c00bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gac352610735962c9b5bf56677d89c00bc">M0_BOB_DECLARE</a> (M0_EXTERN, <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a>)</td></tr>
<tr class="separator:gac352610735962c9b5bf56677d89c00bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0ca66a148be93001d6346c1addfdf5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gaa0ca66a148be93001d6346c1addfdf5e">M0_BOB_DECLARE</a> (M0_EXTERN, <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>)</td></tr>
<tr class="separator:gaa0ca66a148be93001d6346c1addfdf5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga7279e04e3a36e4ccaf5dbd523382225f"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../de/dcc/structm0__bob__type.html">m0_bob_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga7279e04e3a36e4ccaf5dbd523382225f">long_lock_bob</a></td></tr>
<tr class="separator:ga7279e04e3a36e4ccaf5dbd523382225f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6ddb3234dcda3fc202093c57300bbcb"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../de/dcc/structm0__bob__type.html">m0_bob_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gaf6ddb3234dcda3fc202093c57300bbcb">long_lock_link_bob</a></td></tr>
<tr class="separator:gaf6ddb3234dcda3fc202093c57300bbcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/ddc/m0_long_lock-dld.html">FOM long lock DLD</a> </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga7d8656671d02b89f01adf5c34c30346e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d8656671d02b89f01adf5c34c30346e">&#9670;&nbsp;</a></span>M0_BE_LONG_LOCK_PAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M0_BE_LONG_LOCK_PAD&#160;&#160;&#160;(264 + 88)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d9e/fom__long__lock_8h_source.html#l00190">190</a> of file <a class="el" href="../../db/d9e/fom__long__lock_8h_source.html">fom_long_lock.h</a>.</p>

</div>
</div>
<a id="gac7dcfcd902e681ec0766463721434d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7dcfcd902e681ec0766463721434d4f">&#9670;&nbsp;</a></span>M0_FOM_LONG_LOCK_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M0_FOM_LONG_LOCK_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a30467b1dec89ba4714905eed4c11b38a">rc</a></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a30467b1dec89ba4714905eed4c11b38a">rc</a>) ? <a class="el" href="../../d1/d59/group__fom.html#gga1c84f9d79bb6a3a2853b37a531cfc839a73e1dcb44e1c3930ee0b973c974b690e">M0_FSO_AGAIN</a> : <a class="el" href="../../d1/d59/group__fom.html#gga1c84f9d79bb6a3a2853b37a531cfc839aed062e873c0c107ad6b03a27f5445905">M0_FSO_WAIT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A macros to request a long lock from a fom phase transition function. The value of macros should be returned from the phase transition function. The fom transitions into next_phase when the lock is acquired:</p><ul>
<li>M0_FSO_AGAIN when the lock is acquired immediately;</li>
<li>M0_FSO_WAIT when the lock will be acquired after a wait. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../db/d9e/fom__long__lock_8h_source.html#l00214">214</a> of file <a class="el" href="../../db/d9e/fom__long__lock_8h_source.html">fom_long_lock.h</a>.</p>

</div>
</div>
<a id="gae762ad8776496e788bf62e0fa1615b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae762ad8776496e788bf62e0fa1615b61">&#9670;&nbsp;</a></span>M0_TRACE_SUBSYSTEM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M0_TRACE_SUBSYSTEM&#160;&#160;&#160;M0_TRACE_SUBSYS_FOP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00029">29</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gad10510bdcd084171383f193e95dcc739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad10510bdcd084171383f193e95dcc739">&#9670;&nbsp;</a></span>m0_long_lock_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gad10510bdcd084171383f193e95dcc739">m0_long_lock_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Long lock states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggad10510bdcd084171383f193e95dcc739a27153399c6499b9aab06e6616cc612ed"></a>M0_LONG_LOCK_UNLOCKED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggad10510bdcd084171383f193e95dcc739aad00c994d86d35c6b9e9e0418dd44032"></a>M0_LONG_LOCK_RD_LOCKED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggad10510bdcd084171383f193e95dcc739ae277bb26fc65c87a84a7abe11b2eb34c"></a>M0_LONG_LOCK_WR_LOCKED&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/d9e/fom__long__lock_8h_source.html#l00132">132</a> of file <a class="el" href="../../db/d9e/fom__long__lock_8h_source.html">fom_long_lock.h</a>.</p>

</div>
</div>
<a id="ga2b7fb9817ab47b045d7956014e66b9d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b7fb9817ab47b045d7956014e66b9d0">&#9670;&nbsp;</a></span>m0_long_lock_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2b7fb9817ab47b045d7956014e66b9d0">m0_long_lock_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type of long lock link, requesting the lock </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga2b7fb9817ab47b045d7956014e66b9d0ac61ea9c9e85adf79799ea0f8321903eb"></a>M0_LONG_LOCK_READER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga2b7fb9817ab47b045d7956014e66b9d0a640a397bbb207c0fd59637a0f8ecfd7b"></a>M0_LONG_LOCK_WRITER&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/d9e/fom__long__lock_8h_source.html#l00141">141</a> of file <a class="el" href="../../db/d9e/fom__long__lock_8h_source.html">fom_long_lock.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gabaa7f1cc1e2ce975f7eee7b106f232b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabaa7f1cc1e2ce975f7eee7b106f232b4">&#9670;&nbsp;</a></span>can_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool can_lock </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>True, iff "link" can acquire "lock", provided "link" is at the head of waiters queue. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00173">173</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gabaa7f1cc1e2ce975f7eee7b106f232b4_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gabaa7f1cc1e2ce975f7eee7b106f232b4_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gabaa7f1cc1e2ce975f7eee7b106f232b4_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gabaa7f1cc1e2ce975f7eee7b106f232b4_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="132,5,181,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gabaa7f1cc1e2ce975f7eee7b106f232b4_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gabaa7f1cc1e2ce975f7eee7b106f232b4_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gabaa7f1cc1e2ce975f7eee7b106f232b4_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gabaa7f1cc1e2ce975f7eee7b106f232b4_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="132,5,181,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0" title="unlock" alt="" coords="229,31,295,57"/>
</map>
</div>

</div>
</div>
<a id="gae7d4d276edd7b6f5ab21b245285db774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7d4d276edd7b6f5ab21b245285db774">&#9670;&nbsp;</a></span>grant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void grant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00181">181</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gae7d4d276edd7b6f5ab21b245285db774_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gae7d4d276edd7b6f5ab21b245285db774_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gae7d4d276edd7b6f5ab21b245285db774_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gae7d4d276edd7b6f5ab21b245285db774_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="162,5,211,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga3a0c27a422ec0b4426539492a7f4f753" title="ll_addb2_wait_finish" alt="" coords="109,56,264,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gae7d4d276edd7b6f5ab21b245285db774_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gae7d4d276edd7b6f5ab21b245285db774_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gae7d4d276edd7b6f5ab21b245285db774_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gae7d4d276edd7b6f5ab21b245285db774_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="109,5,159,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0" title="unlock" alt="" coords="207,31,272,57"/>
</map>
</div>

</div>
</div>
<a id="ga6a8628f5a6383dabbe0fa4e744656e14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a8628f5a6383dabbe0fa4e744656e14">&#9670;&nbsp;</a></span>link_invariant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool link_invariant </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00119">119</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga6a8628f5a6383dabbe0fa4e744656e14_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga6a8628f5a6383dabbe0fa4e744656e14_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga6a8628f5a6383dabbe0fa4e744656e14_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga6a8628f5a6383dabbe0fa4e744656e14_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga59aea7eb5c84a924abe48b2341bf7f2a" title="lock_invariant" alt="" coords="164,5,279,32"/>
</map>
</div>

</div>
</div>
<a id="ga5babc7c2528048fe6f51881480d4e98c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5babc7c2528048fe6f51881480d4e98c">&#9670;&nbsp;</a></span>ll_addb2_post()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_addb2_post </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00090">90</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga5babc7c2528048fe6f51881480d4e98c_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga5babc7c2528048fe6f51881480d4e98c_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga5babc7c2528048fe6f51881480d4e98c_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga5babc7c2528048fe6f51881480d4e98c_cgraph">
<area shape="rect" id="node2" href="../../db/dcd/m0t1fs_2linux__kernel_2dir_8c.html#a5e595e1eb32d34914893f0fdbbcbe7ec" title="M0_ADDB2_ADD" alt="" coords="165,5,296,32"/>
<area shape="rect" id="node3" href="../../d9/d7d/group__time.html#ga793cbf6341b841b090d83d0dea2993fa" title="m0_time_now" alt="" coords="173,56,288,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga5babc7c2528048fe6f51881480d4e98c_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga5babc7c2528048fe6f51881480d4e98c_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga5babc7c2528048fe6f51881480d4e98c_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga5babc7c2528048fe6f51881480d4e98c_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0" title="unlock" alt="" coords="165,5,231,32"/>
</map>
</div>

</div>
</div>
<a id="ga7b0c62cafc45c12e1ad22bd6fe329058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b0c62cafc45c12e1ad22bd6fe329058">&#9670;&nbsp;</a></span>ll_addb2_reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_addb2_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00084">84</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga7b0c62cafc45c12e1ad22bd6fe329058_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga7b0c62cafc45c12e1ad22bd6fe329058_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga7b0c62cafc45c12e1ad22bd6fe329058_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga7b0c62cafc45c12e1ad22bd6fe329058_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="171,5,220,32"/>
</map>
</div>

</div>
</div>
<a id="ga3a0c27a422ec0b4426539492a7f4f753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a0c27a422ec0b4426539492a7f4f753">&#9670;&nbsp;</a></span>ll_addb2_wait_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_addb2_wait_finish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00107">107</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga3a0c27a422ec0b4426539492a7f4f753_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga3a0c27a422ec0b4426539492a7f4f753_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga3a0c27a422ec0b4426539492a7f4f753_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga3a0c27a422ec0b4426539492a7f4f753_cgraph">
<area shape="rect" id="node2" href="../../d9/d7d/group__time.html#ga793cbf6341b841b090d83d0dea2993fa" title="m0_time_now" alt="" coords="208,5,323,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga3a0c27a422ec0b4426539492a7f4f753_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga3a0c27a422ec0b4426539492a7f4f753_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga3a0c27a422ec0b4426539492a7f4f753_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga3a0c27a422ec0b4426539492a7f4f753_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gae7d4d276edd7b6f5ab21b245285db774" title="grant" alt="" coords="208,5,264,32"/>
</map>
</div>

</div>
</div>
<a id="ga5e070f5a59f56d87cf8ffb6829de1712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e070f5a59f56d87cf8ffb6829de1712">&#9670;&nbsp;</a></span>ll_addb2_wait_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ll_addb2_wait_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00101">101</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga5e070f5a59f56d87cf8ffb6829de1712_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga5e070f5a59f56d87cf8ffb6829de1712_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga5e070f5a59f56d87cf8ffb6829de1712_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga5e070f5a59f56d87cf8ffb6829de1712_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="203,5,252,32"/>
</map>
</div>

</div>
</div>
<a id="gab149301f172d3311436bdb6951300f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab149301f172d3311436bdb6951300f7d">&#9670;&nbsp;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>next_phase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00192">192</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gab149301f172d3311436bdb6951300f7d_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gab149301f172d3311436bdb6951300f7d_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gab149301f172d3311436bdb6951300f7d_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gab149301f172d3311436bdb6951300f7d_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="114,5,241,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga59aea7eb5c84a924abe48b2341bf7f2a" title="lock_invariant" alt="" coords="120,56,235,83"/>
<area shape="rect" id="node4" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gabaa7f1cc1e2ce975f7eee7b106f232b4" title="can_lock" alt="" coords="138,107,217,133"/>
<area shape="rect" id="node5" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga7b0c62cafc45c12e1ad22bd6fe329058" title="ll_addb2_reset" alt="" coords="119,157,236,184"/>
<area shape="rect" id="node6" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gae7d4d276edd7b6f5ab21b245285db774" title="grant" alt="" coords="149,208,205,235"/>
<area shape="rect" id="node7" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga5e070f5a59f56d87cf8ffb6829de1712" title="ll_addb2_wait_start" alt="" coords="103,259,252,285"/>
<area shape="rect" id="node8" href="../../d1/d59/group__fom.html#ga49c0886e7459bf20d1ba974852f18fcd" title="m0_fom_phase_set" alt="" coords="103,309,252,336"/>
<area shape="rect" id="node9" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="106,360,249,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gab149301f172d3311436bdb6951300f7d_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gab149301f172d3311436bdb6951300f7d_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gab149301f172d3311436bdb6951300f7d_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gab149301f172d3311436bdb6951300f7d_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga59aea7eb5c84a924abe48b2341bf7f2a" title="lock_invariant" alt="" coords="121,125,236,152"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0" title="unlock" alt="" coords="363,277,429,304"/>
<area shape="rect" id="node4" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gaf275d1f45f62ea03cf941299c2ba29b6" title="m0_long_write_unlock" alt="" coords="537,246,705,273"/>
<area shape="rect" id="node5" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga780120feeb7c6d856ccf41cdbbe3cafc" title="m0_long_read_unlock" alt="" coords="539,309,703,336"/>
<area shape="rect" id="node6" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab197122217621533ec79a87f80e181c0" title="m0_long_unlock" alt="" coords="557,385,685,412"/>
<area shape="rect" id="node7" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga501d17a5eb7ce5d0fdfbe3b348ae6f64" title="m0_long_is_read_locked" alt="" coords="305,86,487,113"/>
<area shape="rect" id="node8" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga544b706238f43a1d0d87c32ff76bf116" title="m0_long_is_write_locked" alt="" coords="303,162,489,189"/>
<area shape="rect" id="node9" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gabaa7f1cc1e2ce975f7eee7b106f232b4" title="can_lock" alt="" coords="139,328,218,354"/>
<area shape="rect" id="node10" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gae7d4d276edd7b6f5ab21b245285db774" title="grant" alt="" coords="151,226,207,253"/>
<area shape="rect" id="node11" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gafb962350d0560706a0944a515360c54f" title="m0_long_write_lock" alt="" coords="103,480,255,506"/>
<area shape="rect" id="node12" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga32b196b8cef71f47f3fe5e814dfc68eb" title="m0_long_lock" alt="" coords="340,530,452,557"/>
<area shape="rect" id="node13" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga32c86cc142a302f4b5a976bb66dbeb40" title="m0_long_read_lock" alt="" coords="105,581,253,608"/>
<area shape="rect" id="node14" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab1eef955bd95c3cc2e3a72cedc7702f8" title="m0_long_lock_init" alt="" coords="109,632,249,658"/>
<area shape="rect" id="node15" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab97f2172a9ef8e23ed79762dce8235db" title="m0_long_lock_fini" alt="" coords="109,682,248,709"/>
</map>
</div>

</div>
</div>
<a id="ga59aea7eb5c84a924abe48b2341bf7f2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59aea7eb5c84a924abe48b2341bf7f2a">&#9670;&nbsp;</a></span>lock_invariant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool lock_invariant </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This invariant is established by <a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab1eef955bd95c3cc2e3a72cedc7702f8">m0_long_lock_init()</a>. Every top-level long lock entry point assumes that this invariant holds right after the lock's mutex is taken and restores the invariant before releasing the mutex. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00133">133</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga59aea7eb5c84a924abe48b2341bf7f2a_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga59aea7eb5c84a924abe48b2341bf7f2a_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga59aea7eb5c84a924abe48b2341bf7f2a_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga59aea7eb5c84a924abe48b2341bf7f2a_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="223,5,273,32"/>
<area shape="rect" id="node3" href="../../d0/d04/group__mutex.html#ga0c96633d90ccf7e2ed6ffee75d983975" title="m0_mutex_is_locked" alt="" coords="168,56,328,83"/>
<area shape="rect" id="node4" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga6a8628f5a6383dabbe0fa4e744656e14" title="link_invariant" alt="" coords="193,107,303,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga59aea7eb5c84a924abe48b2341bf7f2a_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga59aea7eb5c84a924abe48b2341bf7f2a_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga59aea7eb5c84a924abe48b2341bf7f2a_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga59aea7eb5c84a924abe48b2341bf7f2a_icgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="168,43,217,69"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0" title="unlock" alt="" coords="326,5,391,32"/>
<area shape="rect" id="node4" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga501d17a5eb7ce5d0fdfbe3b348ae6f64" title="m0_long_is_read_locked" alt="" coords="267,68,450,95"/>
<area shape="rect" id="node5" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga544b706238f43a1d0d87c32ff76bf116" title="m0_long_is_write_locked" alt="" coords="265,131,452,157"/>
</map>
</div>

</div>
</div>
<a id="ga9afc0f8fbed49f5b4d06b46558a28c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9afc0f8fbed49f5b4d06b46558a28c27">&#9670;&nbsp;</a></span>M0_BASSERT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_BASSERT </td>
          <td>(</td>
          <td class="paramtype">sizeof(struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a>)&lt;=sizeof(<a class="el" href="../../df/d2a/lib_2misc_8h.html#a18b54656b80aa6c9d8a9b4f62f201265">M0_FIELD_VALUE</a>(struct <a class="el" href="../../d7/d40/structm0__be__long__lock.html">m0_be_long_lock</a>, <a class="el" href="../../d0/d9e/group__addb2.html#ga0930929d6389ac84a33c5f64cbd93346">bll_u.pad</a>))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac352610735962c9b5bf56677d89c00bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac352610735962c9b5bf56677d89c00bc">&#9670;&nbsp;</a></span>M0_BOB_DECLARE() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_BOB_DECLARE </td>
          <td>(</td>
          <td class="paramtype">M0_EXTERN&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaa0ca66a148be93001d6346c1addfdf5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0ca66a148be93001d6346c1addfdf5e">&#9670;&nbsp;</a></span>M0_BOB_DECLARE() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_BOB_DECLARE </td>
          <td>(</td>
          <td class="paramtype">M0_EXTERN&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga204d519a821a9e8049ffcfc934f89812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga204d519a821a9e8049ffcfc934f89812">&#9670;&nbsp;</a></span>M0_BOB_DEFINE() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_BOB_DEFINE </td>
          <td>(</td>
          <td class="paramtype">M0_INTERNAL&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>long_lock_bob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0343e2476394bc56bd8dd6b44dd44c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0343e2476394bc56bd8dd6b44dd44c2d">&#9670;&nbsp;</a></span>M0_BOB_DEFINE() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_BOB_DEFINE </td>
          <td>(</td>
          <td class="paramtype">M0_INTERNAL&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>long_lock_link_bob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gad482154e94847be941b676a5a052c16d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad482154e94847be941b676a5a052c16d">&#9670;&nbsp;</a></span>m0_fom_ll_global_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_fom_ll_global_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes bob-type for <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> and <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>. Should be called once, during system initialisation. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00060">60</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gad482154e94847be941b676a5a052c16d_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gad482154e94847be941b676a5a052c16d_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gad482154e94847be941b676a5a052c16d_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gad482154e94847be941b676a5a052c16d_cgraph">
<area shape="rect" id="node2" href="../../d7/db4/group__bob.html#gae13a94bf0730e305bc807a45dcd1b337" title="m0_bob_type_tlist_init" alt="" coords="220,5,391,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gad482154e94847be941b676a5a052c16d_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gad482154e94847be941b676a5a052c16d_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gad482154e94847be941b676a5a052c16d_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gad482154e94847be941b676a5a052c16d_icgraph">
<area shape="rect" id="node2" href="../../d6/d39/group__fop.html#ga4e75b5feb9c4f155594d35d6159113de" title="m0_fops_init" alt="" coords="220,5,327,32"/>
</map>
</div>

</div>
</div>
<a id="ga501d17a5eb7ce5d0fdfbe3b348ae6f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga501d17a5eb7ce5d0fdfbe3b348ae6f64">&#9670;&nbsp;</a></span>m0_long_is_read_locked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL bool m0_long_is_read_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d9/db7/structm0__fom.html">m0_fom</a> *&#160;</td>
          <td class="paramname"><em>fom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true iff the lock is taken as a read-lock by the given fom. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00318">318</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga501d17a5eb7ce5d0fdfbe3b348ae6f64_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga501d17a5eb7ce5d0fdfbe3b348ae6f64_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga501d17a5eb7ce5d0fdfbe3b348ae6f64_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga501d17a5eb7ce5d0fdfbe3b348ae6f64_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="341,5,468,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="236,56,285,83"/>
<area shape="rect" id="node4" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga59aea7eb5c84a924abe48b2341bf7f2a" title="lock_invariant" alt="" coords="347,56,462,83"/>
<area shape="rect" id="node5" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="333,132,476,159"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga501d17a5eb7ce5d0fdfbe3b348ae6f64_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga501d17a5eb7ce5d0fdfbe3b348ae6f64_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga501d17a5eb7ce5d0fdfbe3b348ae6f64_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga501d17a5eb7ce5d0fdfbe3b348ae6f64_icgraph">
<area shape="rect" id="node2" href="../../d8/d57/rdwr__test__bench_8c.html#a26c665898d9cb19b9fce2c325dec4c92" title="fom_rdwr_tick" alt="" coords="236,5,351,32"/>
</map>
</div>

</div>
</div>
<a id="ga544b706238f43a1d0d87c32ff76bf116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga544b706238f43a1d0d87c32ff76bf116">&#9670;&nbsp;</a></span>m0_long_is_write_locked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL bool m0_long_is_write_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d9/db7/structm0__fom.html">m0_fom</a> *&#160;</td>
          <td class="paramname"><em>fom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true iff the lock is taken as a write-lock by the given fom. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00332">332</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga544b706238f43a1d0d87c32ff76bf116_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga544b706238f43a1d0d87c32ff76bf116_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga544b706238f43a1d0d87c32ff76bf116_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga544b706238f43a1d0d87c32ff76bf116_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="345,5,472,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="240,56,289,83"/>
<area shape="rect" id="node4" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga59aea7eb5c84a924abe48b2341bf7f2a" title="lock_invariant" alt="" coords="351,56,466,83"/>
<area shape="rect" id="node5" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="337,132,480,159"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga544b706238f43a1d0d87c32ff76bf116_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga544b706238f43a1d0d87c32ff76bf116_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga544b706238f43a1d0d87c32ff76bf116_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga544b706238f43a1d0d87c32ff76bf116_icgraph">
<area shape="rect" id="node2" href="../../d5/dac/index__gc_8c.html#a717c3cc1735e3ded9244d4e3479d0432" title="cgc_fom_tick" alt="" coords="265,5,373,32"/>
<area shape="rect" id="node3" href="../../db/d1b/drlink_8c.html#aa62503bf34ec06dda39886a39ee79202" title="drlink_coro_fom_tick" alt="" coords="240,56,399,83"/>
<area shape="rect" id="node4" href="../../d8/d57/rdwr__test__bench_8c.html#a26c665898d9cb19b9fce2c325dec4c92" title="fom_rdwr_tick" alt="" coords="262,107,377,133"/>
</map>
</div>

</div>
</div>
<a id="ga32b196b8cef71f47f3fe5e814dfc68eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga32b196b8cef71f47f3fe5e814dfc68eb">&#9670;&nbsp;</a></span>m0_long_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL bool <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>next_phase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Takes write or read long term lock, depending on the value of the "write" parameter. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00237">237</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga32b196b8cef71f47f3fe5e814dfc68eb_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga32b196b8cef71f47f3fe5e814dfc68eb_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga32b196b8cef71f47f3fe5e814dfc68eb_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga32b196b8cef71f47f3fe5e814dfc68eb_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gafb962350d0560706a0944a515360c54f" title="m0_long_write_lock" alt="" coords="165,5,317,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="365,56,415,83"/>
<area shape="rect" id="node4" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga32c86cc142a302f4b5a976bb66dbeb40" title="m0_long_read_lock" alt="" coords="167,107,315,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga32b196b8cef71f47f3fe5e814dfc68eb_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga32b196b8cef71f47f3fe5e814dfc68eb_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga32b196b8cef71f47f3fe5e814dfc68eb_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga32b196b8cef71f47f3fe5e814dfc68eb_icgraph">
<area shape="rect" id="node2" href="../../d0/d60/cas_2service_8c.html#a5f0dec0408898b2113293d6d3cc52321" title="cas_fom_tick" alt="" coords="193,5,301,32"/>
<area shape="rect" id="node3" href="../../de/d70/group___d_i_x_c_m.html#ga32344a10bf63b4657d1261caaa1827cd" title="dix_cm_iter_fom_tick" alt="" coords="165,56,328,83"/>
</map>
</div>

</div>
</div>
<a id="gab97f2172a9ef8e23ed79762dce8235db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab97f2172a9ef8e23ed79762dce8235db">&#9670;&nbsp;</a></span>m0_long_lock_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_long_lock_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section pre"><dt>Precondition</dt><dd>!m0_long_is_read_locked(lock, *) </dd>
<dd>
!m0_long_is_write_locked(lock, *) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00360">360</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gab97f2172a9ef8e23ed79762dce8235db_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gab97f2172a9ef8e23ed79762dce8235db_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gab97f2172a9ef8e23ed79762dce8235db_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gab97f2172a9ef8e23ed79762dce8235db_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="227,5,276,32"/>
<area shape="rect" id="node3" href="../../d0/d04/group__mutex.html#ga3343af66e17b74ebf3f77fa6a31201c4" title="m0_mutex_fini" alt="" coords="192,56,311,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gab97f2172a9ef8e23ed79762dce8235db_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gab97f2172a9ef8e23ed79762dce8235db_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gab97f2172a9ef8e23ed79762dce8235db_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gab97f2172a9ef8e23ed79762dce8235db_icgraph">
<area shape="rect" id="node2" href="../../de/dd7/svc__internal_8h.html#ae009094f9eebf3d4ae2dee60ff6a3cd5" title="dtm0_process_fini" alt="" coords="197,5,337,32"/>
<area shape="rect" id="node3" href="../../d8/d50/ctg__store_8c.html#a278840c887ecd20a58e8840e1cb28c32" title="ctg_fini" alt="" coords="233,56,302,83"/>
<area shape="rect" id="node4" href="../../d8/d50/ctg__store_8c.html#abcb58fcf6ee16d08b3af43d468929dbe" title="ctg_store_release" alt="" coords="199,107,336,133"/>
<area shape="rect" id="node5" href="../../d2/d76/fop_2ub_2ub_8c.html#a18d1ba506594ac7bdd8b528411a1acce" title="_fini" alt="" coords="243,157,292,184"/>
<area shape="rect" id="node6" href="../../d8/d57/rdwr__test__bench_8c.html#a1c6261a74318e1945b61488b108d312a" title="rdwr_send_fop" alt="" coords="209,208,326,235"/>
<area shape="rect" id="node7" href="../../d0/d11/lib_2ut_2main_8c.html#af08cbcb123e26b38e943a3558543e4fc" title="m0_test_coroutine2" alt="" coords="192,259,343,285"/>
</map>
</div>

</div>
</div>
<a id="gab1eef955bd95c3cc2e3a72cedc7702f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1eef955bd95c3cc2e3a72cedc7702f8">&#9670;&nbsp;</a></span>m0_long_lock_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_long_lock_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section post"><dt>Postcondition</dt><dd>lock-&gt;l_state == M0_LONG_LOCK_UNLOCKED </dd>
<dd>
m0_mutex_is_not_locked(&amp;lock-&gt;l_lock) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00348">348</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gab1eef955bd95c3cc2e3a72cedc7702f8_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gab1eef955bd95c3cc2e3a72cedc7702f8_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gab1eef955bd95c3cc2e3a72cedc7702f8_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gab1eef955bd95c3cc2e3a72cedc7702f8_cgraph">
<area shape="rect" id="node2" href="../../d0/d04/group__mutex.html#ga342a63c7734a82930710cafbe895013f" title="m0_mutex_init" alt="" coords="193,5,313,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="229,56,278,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gab1eef955bd95c3cc2e3a72cedc7702f8_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gab1eef955bd95c3cc2e3a72cedc7702f8_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gab1eef955bd95c3cc2e3a72cedc7702f8_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gab1eef955bd95c3cc2e3a72cedc7702f8_icgraph">
<area shape="rect" id="node2" href="../../de/dd7/svc__internal_8h.html#a1f2eb7d404bf379f37fae92ae2d6f65f" title="dtm0_process_init" alt="" coords="198,5,339,32"/>
<area shape="rect" id="node3" href="../../d8/d50/ctg__store_8c.html#a998fef0c785df84a633d44219161cdc4" title="ctg_init" alt="" coords="233,56,304,83"/>
<area shape="rect" id="node4" href="../../d9/d21/group__cas-ctg-store.html#ga928178a243e4997ae317baf217352973" title="m0_ctg_store_init" alt="" coords="199,107,338,133"/>
<area shape="rect" id="node5" href="../../d2/d76/fop_2ub_2ub_8c.html#adb3d164055026092d14160bfea44386a" title="_init" alt="" coords="243,157,294,184"/>
<area shape="rect" id="node6" href="../../d8/d57/rdwr__test__bench_8c.html#a1c6261a74318e1945b61488b108d312a" title="rdwr_send_fop" alt="" coords="210,208,327,235"/>
<area shape="rect" id="node7" href="../../d0/d11/lib_2ut_2main_8c.html#af08cbcb123e26b38e943a3558543e4fc" title="m0_test_coroutine2" alt="" coords="193,259,344,285"/>
</map>
</div>

</div>
</div>
<a id="ga37d9619e937b061054fe5bf73ca1b3ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37d9619e937b061054fe5bf73ca1b3ae">&#9670;&nbsp;</a></span>m0_long_lock_link_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_long_lock_link_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalize long lock link object.</p>
<dl class="section pre"><dt>Precondition</dt><dd>!m0_lll_tlink_is_in(link) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00076">76</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga37d9619e937b061054fe5bf73ca1b3ae_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga37d9619e937b061054fe5bf73ca1b3ae_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga37d9619e937b061054fe5bf73ca1b3ae_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga37d9619e937b061054fe5bf73ca1b3ae_icgraph">
<area shape="rect" id="node2" href="../../d0/d60/cas_2service_8c.html#af96ef23c931f7e52a43f9371abb57ebe" title="cas_fom_fini" alt="" coords="251,5,355,32"/>
<area shape="rect" id="node3" href="../../d5/dac/index__gc_8c.html#a9a76a35827b7d070efd5108cf64036db" title="cgc_fom_fini" alt="" coords="251,56,355,83"/>
<area shape="rect" id="node4" href="../../d5/df4/group___d_i_x_c_m_c_p.html#gaf43dc8feba2bfa549ffd31135e797f36" title="m0_dix_cm_cp_fini" alt="" coords="230,107,377,133"/>
<area shape="rect" id="node5" href="../../de/d70/group___d_i_x_c_m.html#ga34d4d30cc1cc441141afb2b207f43823" title="dix_cm_iter_fini" alt="" coords="241,157,366,184"/>
<area shape="rect" id="node6" href="../../d0/df1/iter__ut_8c.html#ac31850eb07e5dc66b9b042ea2f6f1229" title="iter_ut_fom_fini" alt="" coords="241,208,365,235"/>
<area shape="rect" id="node7" href="../../db/d1b/drlink_8c.html#aa62503bf34ec06dda39886a39ee79202" title="drlink_coro_fom_tick" alt="" coords="224,259,383,285"/>
<area shape="rect" id="node8" href="../../d2/d76/fop_2ub_2ub_8c.html#a5621337eca030ca4e4b5bb5ebabe085a" title="ub_fom_fini" alt="" coords="254,309,353,336"/>
<area shape="rect" id="node9" href="../../d5/d17/rdwr__fom_8c.html#a89b98366cf87ee25e972fa6d223ae26c" title="fop_rdwr_fom_fini" alt="" coords="234,360,373,387"/>
<area shape="rect" id="node10" href="../../dc/d63/coroutine2_8c.html#ab688961f226072218c93c1b3105ce6fb" title="crud" alt="" coords="278,411,329,437"/>
</map>
</div>

</div>
</div>
<a id="gaf1ae488b8e87316ced7848717c2756a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1ae488b8e87316ced7848717c2756a6">&#9670;&nbsp;</a></span>m0_long_lock_link_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_long_lock_link_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/db7/structm0__fom.html">m0_fom</a> *&#160;</td>
          <td class="paramname"><em>fom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/dc5/structm0__long__lock__addb2.html">m0_long_lock_addb2</a> *&#160;</td>
          <td class="paramname"><em>addb2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize long lock link object with given fom.</p>
<p>addb2 optional argument which is used to collect counters on lock wait/hold times by the link </p><dl class="section pre"><dt>Precondition</dt><dd>fom != NULL </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00066">66</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gaf1ae488b8e87316ced7848717c2756a6_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gaf1ae488b8e87316ced7848717c2756a6_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gaf1ae488b8e87316ced7848717c2756a6_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gaf1ae488b8e87316ced7848717c2756a6_icgraph">
<area shape="rect" id="node2" href="../../d0/d60/cas_2service_8c.html#a79c10a0c7c0c11a421762bc1d97de840" title="cas_fom_create" alt="" coords="241,5,366,32"/>
<area shape="rect" id="node3" href="../../d5/dac/index__gc_8c.html#a685416504f42f40025d5c51ee0669743" title="cgc_start_fom" alt="" coords="246,56,361,83"/>
<area shape="rect" id="node4" href="../../d5/df4/group___d_i_x_c_m_c_p.html#ga15bd336359b4a07eec6aecae35bdc104" title="m0_dix_cm_cp_init" alt="" coords="230,107,377,133"/>
<area shape="rect" id="node5" href="../../de/d70/group___d_i_x_c_m.html#ga4e62c05718bd8f0d8b2875502507ad5a" title="dix_cm_iter_init" alt="" coords="240,157,367,184"/>
<area shape="rect" id="node6" href="../../d0/df1/iter__ut_8c.html#a75d6daa04cf02ba0bf8aa004f977e467" title="iter_ut_fom_init" alt="" coords="241,208,366,235"/>
<area shape="rect" id="node7" href="../../db/d1b/drlink_8c.html#aa62503bf34ec06dda39886a39ee79202" title="drlink_coro_fom_tick" alt="" coords="224,259,383,285"/>
<area shape="rect" id="node8" href="../../d2/d76/fop_2ub_2ub_8c.html#a35b195a533945168e4a19093e167f84d" title="ub_fom_create" alt="" coords="244,309,363,336"/>
<area shape="rect" id="node9" href="../../d5/d17/rdwr__fom_8c.html#a41d1902bd90e56fb5bcb32bddf169779" title="rdwr_fom_create" alt="" coords="237,360,369,387"/>
<area shape="rect" id="node10" href="../../dc/d63/coroutine2_8c.html#ab688961f226072218c93c1b3105ce6fb" title="crud" alt="" coords="278,411,329,437"/>
</map>
</div>

</div>
</div>
<a id="ga32c86cc142a302f4b5a976bb66dbeb40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga32c86cc142a302f4b5a976bb66dbeb40">&#9670;&nbsp;</a></span>m0_long_read_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL bool m0_long_read_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>next_phase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtains given lock for reading for given fom. Taking recursive read-lock is not permitted. If the lock is not obtained the invoking FOM should wait; it will eventually be awoken when the lock has been obtained, and will be transitioned to the next_phase state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">link</td><td>- Long lock link associated with the FOM which has to obtain the lock.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>link-&gt;lll_fom != NULL </dd>
<dd>
!m0_long_is_read_locked(lock, link) </dd>
<dd>
!m0_tlink_is_in(&amp;link-&gt;lll_lock_linkage) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>m0_fom_phase(fom) == next_phase</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true iff the lock is taken. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00229">229</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga32c86cc142a302f4b5a976bb66dbeb40_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga32c86cc142a302f4b5a976bb66dbeb40_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga32c86cc142a302f4b5a976bb66dbeb40_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga32c86cc142a302f4b5a976bb66dbeb40_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="201,5,251,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga32c86cc142a302f4b5a976bb66dbeb40_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga32c86cc142a302f4b5a976bb66dbeb40_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga32c86cc142a302f4b5a976bb66dbeb40_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga32c86cc142a302f4b5a976bb66dbeb40_icgraph">
<area shape="rect" id="node2" href="../../d5/df4/group___d_i_x_c_m_c_p.html#ga3df1967fbbdc194f9bd42beaf290588a" title="m0_dix_cm_cp_recv_wait" alt="" coords="201,5,391,32"/>
<area shape="rect" id="node3" href="../../d0/d60/cas_2service_8c.html#a5f0dec0408898b2113293d6d3cc52321" title="cas_fom_tick" alt="" coords="466,81,574,108"/>
<area shape="rect" id="node4" href="../../de/d70/group___d_i_x_c_m.html#ga32344a10bf63b4657d1261caaa1827cd" title="dix_cm_iter_fom_tick" alt="" coords="439,132,601,159"/>
<area shape="rect" id="node5" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga32b196b8cef71f47f3fe5e814dfc68eb" title="m0_long_lock" alt="" coords="240,107,352,133"/>
<area shape="rect" id="node6" href="../../d2/d76/fop_2ub_2ub_8c.html#aca29e71df36730a142ed2d38c88773f5" title="long_lock_tick" alt="" coords="239,208,353,235"/>
<area shape="rect" id="node7" href="../../d8/d57/rdwr__test__bench_8c.html#a26c665898d9cb19b9fce2c325dec4c92" title="fom_rdwr_tick" alt="" coords="239,259,353,285"/>
</map>
</div>

</div>
</div>
<a id="ga780120feeb7c6d856ccf41cdbbe3cafc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga780120feeb7c6d856ccf41cdbbe3cafc">&#9670;&nbsp;</a></span>m0_long_read_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_long_read_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks given read-lock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">link</td><td>- Long lock link associated with the FOM which has to obtain the lock.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>m0_long_is_read_locked(lock, link); </dd>
<dd>
m0_fom_group_is_locked(lock-&gt;lll_fom) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>!m0_long_is_read_locked(lock, link); </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00306">306</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga780120feeb7c6d856ccf41cdbbe3cafc_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga780120feeb7c6d856ccf41cdbbe3cafc_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga780120feeb7c6d856ccf41cdbbe3cafc_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga780120feeb7c6d856ccf41cdbbe3cafc_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0" title="unlock" alt="" coords="217,5,283,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="331,31,380,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga780120feeb7c6d856ccf41cdbbe3cafc_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga780120feeb7c6d856ccf41cdbbe3cafc_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga780120feeb7c6d856ccf41cdbbe3cafc_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga780120feeb7c6d856ccf41cdbbe3cafc_icgraph">
<area shape="rect" id="node2" href="../../d0/d60/cas_2service_8c.html#a5f0dec0408898b2113293d6d3cc52321" title="cas_fom_tick" alt="" coords="258,5,366,32"/>
<area shape="rect" id="node3" href="../../d5/df4/group___d_i_x_c_m_c_p.html#ga145a01db25317045962bc488140027bd" title="m0_dix_cm_cp_write_pre" alt="" coords="219,56,405,83"/>
<area shape="rect" id="node4" href="../../de/d70/group___d_i_x_c_m.html#gad09d32e167b5b4634e4e7597a545c902" title="dix_cm_iter_meta_unlock" alt="" coords="217,107,407,133"/>
<area shape="rect" id="node5" href="../../de/d70/group___d_i_x_c_m.html#ga32344a10bf63b4657d1261caaa1827cd" title="dix_cm_iter_fom_tick" alt="" coords="455,132,617,159"/>
<area shape="rect" id="node6" href="../../d2/d76/fop_2ub_2ub_8c.html#aca29e71df36730a142ed2d38c88773f5" title="long_lock_tick" alt="" coords="255,208,369,235"/>
<area shape="rect" id="node7" href="../../d8/d57/rdwr__test__bench_8c.html#a26c665898d9cb19b9fce2c325dec4c92" title="fom_rdwr_tick" alt="" coords="255,259,369,285"/>
</map>
</div>

</div>
</div>
<a id="gab197122217621533ec79a87f80e181c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab197122217621533ec79a87f80e181c0">&#9670;&nbsp;</a></span>m0_long_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_long_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks read or write lock. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00312">312</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gab197122217621533ec79a87f80e181c0_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gab197122217621533ec79a87f80e181c0_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gab197122217621533ec79a87f80e181c0_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gab197122217621533ec79a87f80e181c0_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0" title="unlock" alt="" coords="181,5,247,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="295,31,344,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gab197122217621533ec79a87f80e181c0_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gab197122217621533ec79a87f80e181c0_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gab197122217621533ec79a87f80e181c0_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gab197122217621533ec79a87f80e181c0_icgraph">
<area shape="rect" id="node2" href="../../d0/d60/cas_2service_8c.html#a5c1139285d87df20b0ea61793b1b7ee9" title="cas_fom_cleanup" alt="" coords="187,5,322,32"/>
<area shape="rect" id="node3" href="../../d0/d60/cas_2service_8c.html#a5f0dec0408898b2113293d6d3cc52321" title="cas_fom_tick" alt="" coords="403,31,511,57"/>
<area shape="rect" id="node4" href="../../d5/dac/index__gc_8c.html#a717c3cc1735e3ded9244d4e3479d0432" title="cgc_fom_tick" alt="" coords="201,107,309,133"/>
<area shape="rect" id="node5" href="../../d5/df4/group___d_i_x_c_m_c_p.html#ga63e454878f9921691d2fa1f53ebd74d5" title="m0_dix_cm_cp_fail" alt="" coords="181,157,328,184"/>
<area shape="rect" id="node6" href="../../de/d70/group___d_i_x_c_m.html#ga34d4d30cc1cc441141afb2b207f43823" title="dix_cm_iter_fini" alt="" coords="192,208,317,235"/>
<area shape="rect" id="node7" href="../../de/d70/group___d_i_x_c_m.html#ga32344a10bf63b4657d1261caaa1827cd" title="dix_cm_iter_fom_tick" alt="" coords="376,233,539,260"/>
</map>
</div>

</div>
</div>
<a id="gafb962350d0560706a0944a515360c54f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb962350d0560706a0944a515360c54f">&#9670;&nbsp;</a></span>m0_long_write_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL bool m0_long_write_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>next_phase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtains given lock for writing for given fom. Taking recursive write-lock is not permitted. If the lock is not obtained the invoking FOM should wait; it will eventually be awoken when the lock has been obtained, and will be transitioned to the next_phase state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">link</td><td>- Long lock link associated with the FOM which has to obtain the lock.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>link-&gt;lll_fom != NULL </dd>
<dd>
!m0_long_is_write_locked(lock, fom) </dd>
<dd>
!m0_tlink_is_in(&amp;link-&gt;lll_lock_linkage) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>m0_fom_phase(fom) == next_phase</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true iff the lock is taken. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00221">221</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gafb962350d0560706a0944a515360c54f_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gafb962350d0560706a0944a515360c54f_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gafb962350d0560706a0944a515360c54f_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gafb962350d0560706a0944a515360c54f_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="205,5,255,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gafb962350d0560706a0944a515360c54f_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gafb962350d0560706a0944a515360c54f_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gafb962350d0560706a0944a515360c54f_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gafb962350d0560706a0944a515360c54f_icgraph">
<area shape="rect" id="node2" href="../../d0/d60/cas_2service_8c.html#a5f0dec0408898b2113293d6d3cc52321" title="cas_fom_tick" alt="" coords="467,56,575,83"/>
<area shape="rect" id="node3" href="../../d0/d60/cas_2service_8c.html#a8233d0ac4e98f4671725f1abbfb40f1e" title="cas_kv_load_done" alt="" coords="228,5,369,32"/>
<area shape="rect" id="node4" href="../../d5/dac/index__gc_8c.html#a717c3cc1735e3ded9244d4e3479d0432" title="cgc_fom_tick" alt="" coords="245,107,353,133"/>
<area shape="rect" id="node5" href="../../d5/df4/group___d_i_x_c_m_c_p.html#ga145a01db25317045962bc488140027bd" title="m0_dix_cm_cp_write_pre" alt="" coords="205,157,392,184"/>
<area shape="rect" id="node6" href="../../de/d70/group___d_i_x_c_m.html#ga32344a10bf63b4657d1261caaa1827cd" title="dix_cm_iter_fom_tick" alt="" coords="440,284,603,311"/>
<area shape="rect" id="node7" href="../../d0/df1/iter__ut_8c.html#a315bc094af6f3f5f1ae49d133a4b2389" title="iter_ut_fom_tick" alt="" coords="235,259,363,285"/>
<area shape="rect" id="node8" href="../../db/d1b/drlink_8c.html#aa9ddc30315ef242e27e253a401d6866f" title="co_long_write_lock" alt="" coords="225,309,372,336"/>
<area shape="rect" id="node9" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga32b196b8cef71f47f3fe5e814dfc68eb" title="m0_long_lock" alt="" coords="243,208,355,235"/>
<area shape="rect" id="node10" href="../../d2/d76/fop_2ub_2ub_8c.html#aca29e71df36730a142ed2d38c88773f5" title="long_lock_tick" alt="" coords="241,411,356,437"/>
<area shape="rect" id="node11" href="../../d8/d57/rdwr__test__bench_8c.html#a26c665898d9cb19b9fce2c325dec4c92" title="fom_rdwr_tick" alt="" coords="241,461,356,488"/>
<area shape="rect" id="node12" href="../../dc/d63/coroutine2_8c.html#ab688961f226072218c93c1b3105ce6fb" title="crud" alt="" coords="273,512,324,539"/>
</map>
</div>

</div>
</div>
<a id="gaf275d1f45f62ea03cf941299c2ba29b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf275d1f45f62ea03cf941299c2ba29b6">&#9670;&nbsp;</a></span>m0_long_write_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_INTERNAL void m0_long_write_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks given write-lock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">link</td><td>- Long lock link associated with the FOM which has to obtain the lock.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>m0_long_is_write_locked(lock, link); </dd>
<dd>
m0_fom_group_is_locked(lock-&gt;lll_fom) </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>!m0_long_is_write_locked(lock, link); </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00300">300</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gaf275d1f45f62ea03cf941299c2ba29b6_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gaf275d1f45f62ea03cf941299c2ba29b6_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gaf275d1f45f62ea03cf941299c2ba29b6_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gaf275d1f45f62ea03cf941299c2ba29b6_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga2e4c56b3d447243817347d2c2eac61f0" title="unlock" alt="" coords="221,5,287,32"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="335,31,384,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_gaf275d1f45f62ea03cf941299c2ba29b6_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_gaf275d1f45f62ea03cf941299c2ba29b6_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_gaf275d1f45f62ea03cf941299c2ba29b6_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_gaf275d1f45f62ea03cf941299c2ba29b6_icgraph">
<area shape="rect" id="node2" href="../../d5/df4/group___d_i_x_c_m_c_p.html#ga112207254d7facaae8bde54ae9042426" title="m0_dix_cm_cp_io_wait" alt="" coords="221,5,395,32"/>
<area shape="rect" id="node3" href="../../de/d70/group___d_i_x_c_m.html#ga32344a10bf63b4657d1261caaa1827cd" title="dix_cm_iter_fom_tick" alt="" coords="227,56,389,83"/>
<area shape="rect" id="node4" href="../../d0/df1/iter__ut_8c.html#a315bc094af6f3f5f1ae49d133a4b2389" title="iter_ut_fom_tick" alt="" coords="244,107,372,133"/>
<area shape="rect" id="node5" href="../../db/d1b/drlink_8c.html#aa62503bf34ec06dda39886a39ee79202" title="drlink_coro_fom_tick" alt="" coords="229,157,387,184"/>
<area shape="rect" id="node6" href="../../d2/d76/fop_2ub_2ub_8c.html#aca29e71df36730a142ed2d38c88773f5" title="long_lock_tick" alt="" coords="251,208,365,235"/>
<area shape="rect" id="node7" href="../../d8/d57/rdwr__test__bench_8c.html#a26c665898d9cb19b9fce2c325dec4c92" title="fom_rdwr_tick" alt="" coords="251,259,365,285"/>
<area shape="rect" id="node8" href="../../dc/d63/coroutine2_8c.html#ab688961f226072218c93c1b3105ce6fb" title="crud" alt="" coords="283,309,333,336"/>
</map>
</div>

</div>
</div>
<a id="ga424beafd2a8e7a7654cf31ba2d7e066a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga424beafd2a8e7a7654cf31ba2d7e066a">&#9670;&nbsp;</a></span>M0_TL_DEFINE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_TL_DEFINE </td>
          <td>(</td>
          <td class="paramtype">m0_lll&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M0_INTERNAL&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga4bd4e6924b04834fdec967a1511bbf9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4bd4e6924b04834fdec967a1511bbf9a">&#9670;&nbsp;</a></span>M0_TL_DESCR_DEFINE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M0_TL_DESCR_DEFINE </td>
          <td>(</td>
          <td class="paramtype">m0_lll&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;list of <a class="el" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d">lock</a>-links in longlock&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M0_INTERNAL&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lll_lock_linkage&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lll_magix&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a52969c7c65b61580382c697863bb07f7">M0_FOM_LL_LINK_MAGIC</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a52969c7c65b61580382c697863bb07f7">M0_FOM_LL_LINK_MAGIC</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Descriptor of typed list used in <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> with <a class="el" href="../../df/d87/structm0__long__lock__link.html#a1beaa5cb16f09c32d268e1675cd0281a">m0_long_lock_link::lll_lock_linkage</a>. </p>

</div>
</div>
<a id="gac247fbad0d9edac48b9185d5a6891639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac247fbad0d9edac48b9185d5a6891639">&#9670;&nbsp;</a></span>M0_XCA_DOMAIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d40/structm0__be__long__lock.html">m0_be_long_lock</a> M0_XCA_DOMAIN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/df1/iter__ut_8c.html#aa1e88453a5be7e5aa3334108a15171e8">be</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2e4c56b3d447243817347d2c2eac61f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e4c56b3d447243817347d2c2eac61f0">&#9670;&nbsp;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d87/structm0__long__lock__link.html">m0_long_lock_link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_ownership</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initially, here the following assertion was checked: M0_ASSERT(next-&gt;lll_fom-&gt;fo_transitions_saved + 1 == next-&gt;lll_fom-&gt;fo_transitions);</p>
<p>For the reason fom-&gt;fo_transitions counter is updated after control returns from <a class="el" href="../../d7/d3a/fop__allow__ut_8c.html#ad3801ce8e6c8dff65ec3f4a28ee41ba8">fom_tick()</a> without any locks taken, it can be so, that long lock is queued to be taken by one fom (thread) and the contorol is still inside <a class="el" href="../../d7/d3a/fop__allow__ut_8c.html#ad3801ce8e6c8dff65ec3f4a28ee41ba8">fom_tick()</a>, and other fom (thread) has already unlocked() -&gt; granted() the long lock. In this case fom-&gt;fo_transitions is still not updated, so fom-&gt;fo_transitions_saved can be equal to fom-&gt;fo_transitions in this case. In other cases it has to be greater by 1.</p>

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00245">245</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga2e4c56b3d447243817347d2c2eac61f0_cgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga2e4c56b3d447243817347d2c2eac61f0_cgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga2e4c56b3d447243817347d2c2eac61f0_cgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga2e4c56b3d447243817347d2c2eac61f0_cgraph">
<area shape="rect" id="node2" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab149301f172d3311436bdb6951300f7d" title="lock" alt="" coords="188,132,237,159"/>
<area shape="rect" id="node3" href="../../d0/d04/group__mutex.html#gae26efdb3a765f750c5992041d6ee2336" title="m0_mutex_lock" alt="" coords="363,5,489,32"/>
<area shape="rect" id="node4" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga59aea7eb5c84a924abe48b2341bf7f2a" title="lock_invariant" alt="" coords="369,81,483,108"/>
<area shape="rect" id="node5" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gabaa7f1cc1e2ce975f7eee7b106f232b4" title="can_lock" alt="" coords="387,132,465,159"/>
<area shape="rect" id="node6" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gae7d4d276edd7b6f5ab21b245285db774" title="grant" alt="" coords="398,183,454,209"/>
<area shape="rect" id="node7" href="../../d0/d04/group__mutex.html#ga18963570792098f5ab3cf3e8ede8046a" title="m0_mutex_unlock" alt="" coords="355,233,497,260"/>
<area shape="rect" id="node8" href="../../d1/d59/group__fom.html#ga517185ebb724226e95acdaf205ad71cf" title="m0_fom_group_is_locked" alt="" coords="119,284,307,311"/>
<area shape="rect" id="node9" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga5babc7c2528048fe6f51881480d4e98c" title="ll_addb2_post" alt="" coords="157,335,269,361"/>
<area shape="rect" id="node10" href="../../d1/d59/group__fom.html#gade627e51949dfe7829e01aee4f03513f" title="m0_fom_wakeup" alt="" coords="145,385,280,412"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d2e/group__m0__long__lock___a_p_i_ga2e4c56b3d447243817347d2c2eac61f0_icgraph.png" border="0" usemap="#dd/d2e/group__m0__long__lock___a_p_i_ga2e4c56b3d447243817347d2c2eac61f0_icgraph" alt=""/></div>
<map name="dd/d2e/group__m0__long__lock___a_p_i_ga2e4c56b3d447243817347d2c2eac61f0_icgraph" id="dd/d2e/group__m0__long__lock___a_p_i_ga2e4c56b3d447243817347d2c2eac61f0_icgraph">
<area shape="rect" id="node2" href="../../db/d1b/drlink_8c.html#aa62503bf34ec06dda39886a39ee79202" title="drlink_coro_fom_tick" alt="" coords="335,14,493,40"/>
<area shape="rect" id="node3" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gaf275d1f45f62ea03cf941299c2ba29b6" title="m0_long_write_unlock" alt="" coords="119,39,287,66"/>
<area shape="rect" id="node4" href="../../d2/d76/fop_2ub_2ub_8c.html#aca29e71df36730a142ed2d38c88773f5" title="long_lock_tick" alt="" coords="357,90,471,116"/>
<area shape="rect" id="node5" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#ga780120feeb7c6d856ccf41cdbbe3cafc" title="m0_long_read_unlock" alt="" coords="121,140,285,167"/>
<area shape="rect" id="node6" href="../../dd/d2e/group__m0__long__lock___a_p_i.html#gab197122217621533ec79a87f80e181c0" title="m0_long_unlock" alt="" coords="139,191,267,218"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga7279e04e3a36e4ccaf5dbd523382225f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7279e04e3a36e4ccaf5dbd523382225f">&#9670;&nbsp;</a></span>long_lock_bob</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../de/dcc/structm0__bob__type.html">m0_bob_type</a> long_lock_bob</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        .bt_name         = <span class="stringliteral">&quot;LONG_LOCK_BOB&quot;</span>,</div><div class="line">        .bt_magix        = <a class="code" href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a6564ac27cc7df9ec316090ed4752a7c4">M0_FOM_LL_MAGIC</a>,</div><div class="line">        .bt_magix_offset = <a class="code" href="../../db/df8/lib_2user__space_2misc_8h.html#ad4a7496cd704df3829c87864e7dbd703">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a>, l_magix)</div><div class="line">}</div><div class="ttc" id="magic_8h_html_a82bffe7189227eff068dab27a6040119a6564ac27cc7df9ec316090ed4752a7c4"><div class="ttname"><a href="../../dd/d08/magic_8h.html#a82bffe7189227eff068dab27a6040119a6564ac27cc7df9ec316090ed4752a7c4">M0_FOM_LL_MAGIC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/magic_8h_source.html#l00473">magic.h:473</a></div></div>
<div class="ttc" id="structm0__long__lock_html"><div class="ttname"><a href="../../dd/dc5/structm0__long__lock.html">m0_long_lock</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9e/fom__long__lock_8h_source.html#l00175">fom_long_lock.h:175</a></div></div>
<div class="ttc" id="lib_2user__space_2misc_8h_html_ad4a7496cd704df3829c87864e7dbd703"><div class="ttname"><a href="../../db/df8/lib_2user__space_2misc_8h.html#ad4a7496cd704df3829c87864e7dbd703">offsetof</a></div><div class="ttdeci">#define offsetof(typ, memb)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/lib_2user__space_2misc_8h_source.html#l00029">misc.h:29</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00049">49</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>

</div>
</div>
<a id="gaf6ddb3234dcda3fc202093c57300bbcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6ddb3234dcda3fc202093c57300bbcb">&#9670;&nbsp;</a></span>long_lock_link_bob</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/dcc/structm0__bob__type.html">m0_bob_type</a> long_lock_link_bob</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html#l00057">57</a> of file <a class="el" href="../../d7/d5f/fom__long__lock_8c_source.html">fom_long_lock.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 27 2022 00:05:29 for Motr by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
